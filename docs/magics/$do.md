# $do

```ts
$doâ€Ž(action: string|action[], target?: string, content?: any, extra?: number|string)
```

Do a single or an array of actions, as described below.

| `action`                                              | `target`                                                                                                                                    | `content`                                                                                   | `extra`                                                                     |
| ----------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| `cookie`<br>Manages a cookie                          | Key<sup><a href="#notes">1</a></sup>.<br>_Required._                                                                                        | Value<sup><a href="#notes">2</a></sup>.<br>_Required._                                      | Expiration in seconds. If negative, deletes.<br>_Default: 604800 (7 days)._ |
| `session`<br>Manages a sessionStorage item            | Key<sup><a href="#notes">1</a></sup>.<br>_Required._                                                                                        | Value<sup><a href="#notes">2</a></sup>.<br>_Required w/o `extra`._                          | If negative, deletes.<br>_Required w/o `content`._                          |
| `local`<br>Manages a localStorage item                | Key<sup><a href="#notes">1</a></sup>.<br>_Required._                                                                                        | Value<sup><a href="#notes">2</a></sup>.<br>_Required w/o `extra`._                          | If negative, deletes.<br>_Required w/o `content`._                          |
| `go`<br>Goes to an URL                                | URL.<br>_Required._                                                                                                                         |                                                                                             | Delay in seconds.<br>_Default: 5._                                          |
| `open`<br>Opens an URL in another tab                 | URL.<br>_Required._                                                                                                                         |                                                                                             | Delay in seconds.<br>_Default: 5._                                          |
| `reload`<br>Reloads the current page                  |                                                                                                                                             |                                                                                             | Delay in seconds.<br>_Default: 5._                                          |
| `scroll`<br>Scrolls to an element                     | Element<sup><a href="#notes">3[first]</a></sup>.<br>_Required._                                                                             |                                                                                             |                                                                             |
| `title`<br>Changes the document title                 |                                                                                                                                             | New title.<br>_Required._                                                                   |                                                                             |
| `text`<br>Replaces a text content                     | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | Text content.<br>_Required._                                                                |                                                                             |
| `html`<br>Replaces a HTML content                     | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | HTML content.<br>_Required._                                                                |                                                                             |
| `value`<br>Updates a value                            | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | New value.<br>_Required._                                                                   |                                                                             |
| `before`<br>Adds HTML before (outside) a element      | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | HTML content.<br>_Required._                                                                |                                                                             |
| `after`<br>Adds HTML after (outside) a element        | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | HTML content.<br>_Required._                                                                |                                                                             |
| `prepend`<br>Adds HTML inside (first) a element       | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | HTML content.<br>_Required._                                                                |                                                                             |
| `append`<br>Adds HTML inside (last) a element         | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | HTML content.<br>_Required._                                                                |                                                                             |
| `show`<br>Shows a element                             | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    |                                                                                             |                                                                             |
| `hide`<br>Hides a element                             | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    |                                                                                             |                                                                             |
| `remove`<br>Removes a element                         | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    |                                                                                             |                                                                             |
| `move`<br>Moves a element                             | Destination<sup><a href="#notes">3[first]</a></sup>.<br>_Required._                                                                         | Source<sup><a href="#notes">3[first]</a></sup>.<br>_Required._                              |                                                                             |
| `clone`<br>Clones a element                           | Destination<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                | Source<sup><a href="#notes">3[first]</a></sup>.<br>_Required._                              |                                                                             |
| `addClass`<br>Adds CSS classes                        | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | Classes separated by space.<br>_Required._                                                  |                                                                             |
| `remClass`<br>Removes CSS classes                     | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | Classes separated by space.<br>_Required._                                                  |                                                                             |
| `style`<br>Sets style to a element                    | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | Object with camelCase or kebab-case properties, and values.<br>_Required._                  |                                                                             |
| `setAttr`<br>Sets a attribute                         | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | Attribute name.<br>_Required._                                                              | Attribute value.<br>_Default: true._                                        |
| `remAttr`<br>Removes a attribute                      | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | Attribute name.<br>_Required._                                                              |                                                                             |
| `trigger`<br>Triggers an event                        | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | Event name.<br>_Required._                                                                  |                                                                             |
| `method`<br>Calls a method                            | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | Method.<br>_Required._                                                                      |                                                                             |
| `copy`<br>Copies to the clipboard                     | Element<sup><a href="#notes">3[first]</a></sup>. Copy its value or innerText<sup><a href="#notes">4</a></sup>.<br>_Required w/o `content`._ | Fallback when `target` is not found or given.<br>_Required w/o `target`._                   |                                                                             |
| `paste`<br>Pastes from the clipboard                  | Element<sup><a href="#notes">3</a></sup>.<br>_Required._                                                                                    | Destination propriety.<br>_Default: value or textContent<sup><a href="#notes">4</a></sup>._ |                                                                             |
| `callback`<br>Executes a bit of code                  | JS code, limit to 22 length.<br>_Required._                                                                                                 |                                                                                             |                                                                             |
| `script`<br>Adds a new script tag                     | Script ID.<br>_Required._                                                                                                                   | Script full URL source.<br>_Required._                                                      | Object with atributes.<br>_Default: { async: '' }._                         |
| `pip`<br>Requests picture-in-picture mode for a video | VideoElement<sup><a href="#notes">3[first]</a></sup>.<br>_Default: 'video'._                                                                |                                                                                             |                                                                             |
| `toast`<br>Shows a alert and returns its ID           | URL.<br>_Default: none._                                                                                                                    | Toast text.<br>_Required._                                                                  | Duration in seconds.<br>_Default: 5._                                       |
| `delay`<br>Delays one or a list of actions            |                                                                                                                                             | One or an array of actions.<br>_Required._                                                  | Delay in seconds.<br>_Default: 5._                                          |
| `ignore`<br>Skips.                                    |                                                                                                                                             |                                                                                             |                                                                             |

## Usage

```html
<button x-on:click="$do('cookie', 'terms-accept', 'yes')">Accept</button>
```

```js
$do([
   { action: 'after', target: 'body', content: '<p id="newP">Lorem ipsum</p>' },
   { action: 'setAttr', target: '#newP', content: 'class', extra: 'truncate' },
])
```

## Notes

1. **Storage key**  
   A plain-text string that will be sanitized.
1. **Storage value**  
   The content will be `JSON.stringify`.
1. **Element selector**  
   A CSS selector, such as `#id`, `.class`, `element`, `element[attr=value]`. Affects all matched elements, except for
   those one marked with `[first]`, which affects only the first found. If no element is found, fails silently.
1. **Value or else**  
   Uses the value if the element is an `input`, `output`, `select`, `button`, `option`, or `textarea`.
